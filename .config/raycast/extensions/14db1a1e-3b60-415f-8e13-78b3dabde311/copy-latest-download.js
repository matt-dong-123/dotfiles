"use strict";var P=Object.create;var d=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var R=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var t in e)d(o,t,{get:e[t],enumerable:!0})},l=(o,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of T(e))!C.call(o,s)&&s!==t&&d(o,s,{get:()=>e[s],enumerable:!(a=x(e,s))||a.enumerable});return o};var k=(o,e,t)=>(t=o!=null?P(M(o)):{},l(e||!o||!o.__esModule?d(t,"default",{value:o,enumerable:!0}):t,o)),q=o=>l(d({},"__esModule",{value:!0}),o);var f=R((K,m)=>{"use strict";var H=require("os"),p=H.homedir();m.exports=o=>{if(typeof o!="string")throw new TypeError(`Expected a string, got ${typeof o}`);return p?o.replace(/^~(?=$|\/|\\)/,p):o}});var E={};b(E,{default:()=>F});module.exports=q(E);var n=require("@raycast/api");var i=require("@raycast/api"),r=require("fs"),u=require("path"),y=k(f()),_=require("react/jsx-runtime"),c=(0,i.getPreferenceValues)(),w=(0,y.default)(c.downloadsFolder??"~/Downloads"),O=c.showHiddenFiles;function S(){return(0,r.readdirSync)(w).filter(e=>O||!e.startsWith(".")).map(e=>{let t=(0,u.join)(w,e),a=(0,r.statSync)(t).mtime;return{file:e,path:t,lastModifiedAt:a}}).sort((e,t)=>t.lastModifiedAt.getTime()-e.lastModifiedAt.getTime())}function g(){let o=S();if(!(o.length<1))return o[0]}function D(){try{return(0,r.accessSync)(c.downloadsFolder,r.constants.R_OK),!0}catch(o){return console.error(o),!1}}var h=require("@raycast/api"),A=require("@raycast/api");async function F(){if(!D()){await(0,n.showHUD)("No permission to access the downloads folder");return}let o=g();if(!o){await(0,n.showHUD)("No downloads found");return}await h.Clipboard.copy({file:o.path}),await(0,A.closeMainWindow)(),await(0,n.showHUD)("Copied latest download to clipboard"),await(0,n.popToRoot)()}
