#!/usr/bin/env bash
set -e

# Function for the Packages menu
packages_menu() {
    CHOICE=$(gum filter "Install" "Uninstall" "Upgrade" "Tap")

    case $CHOICE in
        "Install")
            ~/.config/omacase/bin/homebrew-install
            ;;
        "Uninstall")
            ~/.config/omacase/bin/homebrew-uninstall
            ;;
        "Upgrade")
            ~/.config/omacase/bin/homebrew-upgrade
            ;;
        "Tap")
            ~/.config/omacase/bin/homebrew-tap
            ;;
    esac
}

# Function for the Themes menu
themes_menu() {
    ~/.config/omacase/bin/theme-select
}

# Function for the Backgrounds menu
backgrounds_menu() {
    ~/.config/omacase/bin/background-select
}

# Main menu
CHOICE=$(gum filter "Packages" "Themes" "Backgrounds")

case $CHOICE in
    "Packages")
        packages_menu
        ;;
    "Themes")
        themes_menu
        ;;
    "Backgrounds")
        backgrounds_menu
        ;;
esac
